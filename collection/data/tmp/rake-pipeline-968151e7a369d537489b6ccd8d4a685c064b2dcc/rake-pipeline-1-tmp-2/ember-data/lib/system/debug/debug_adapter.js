minispade.register('ember-data/system/debug/debug_adapter', "(function() {/**\n  @module ember-data\n*/\nvar get = Ember.get, capitalize = Ember.String.capitalize, underscore = Ember.String.underscore, DS = window.DS ;\n\n/**\n  Extend `Ember.DataAdapter` with ED specific code.\n\n  @class DebugAdapter\n  @namespace DS\n  @extends Ember.DataAdapter\n  @private\n*/\nDS.DebugAdapter = Ember.DataAdapter.extend({\n  getFilters: function() {\n    return [\n      { name: 'isNew', desc: 'New' },\n      { name: 'isModified', desc: 'Modified' },\n      { name: 'isClean', desc: 'Clean' }\n    ];\n  },\n\n  detect: function(klass) {\n    return klass !== DS.Model && DS.Model.detect(klass);\n  },\n\n  columnsForType: function(type) {\n    var columns = [{ name: 'id', desc: 'Id' }], count = 0, self = this;\n    get(type, 'attributes').forEach(function(name, meta) {\n        if (count++ > self.attributeLimit) { return false; }\n        var desc = capitalize(underscore(name).replace('_', ' '));\n        columns.push({ name: name, desc: desc });\n    });\n    return columns;\n  },\n\n  getRecords: function(type) {\n    return this.get('store').all(type);\n  },\n\n  getRecordColumnValues: function(record) {\n    var self = this, count = 0,\n        columnValues = { id: get(record, 'id') };\n\n    record.eachAttribute(function(key) {\n      if (count++ > self.attributeLimit) {\n        return false;\n      }\n      var value = get(record, key);\n      columnValues[key] = value;\n    });\n    return columnValues;\n  },\n\n  getRecordKeywords: function(record) {\n    var keywords = [], keys = Ember.A(['id']);\n    record.eachAttribute(function(key) {\n      keys.push(key);\n    });\n    keys.forEach(function(key) {\n      keywords.push(get(record, key));\n    });\n    return keywords;\n  },\n\n  getRecordFilterValues: function(record) {\n    return {\n      isNew: record.get('isNew'),\n      isModified: record.get('isDirty') && !record.get('isNew'),\n      isClean: !record.get('isDirty')\n    };\n  },\n\n  getRecordColor: function(record) {\n    var color = 'black';\n    if (record.get('isNew')) {\n      color = 'green';\n    } else if (record.get('isDirty')) {\n      color = 'blue';\n    }\n    return color;\n  },\n\n  observeRecord: function(record, recordUpdated) {\n    var releaseMethods = Ember.A(), self = this,\n        keysToObserve = Ember.A(['id', 'isNew', 'isDirty']);\n\n    record.eachAttribute(function(key) {\n      keysToObserve.push(key);\n    });\n\n    keysToObserve.forEach(function(key) {\n      var handler = function() {\n        recordUpdated(self.wrapRecord(record));\n      };\n      Ember.addObserver(record, key, handler);\n      releaseMethods.push(function() {\n        Ember.removeObserver(record, key, handler);\n      });\n    });\n\n    var release = function() {\n      releaseMethods.forEach(function(fn) { fn(); } );\n    };\n\n    return release;\n  }\n\n});\n\n})();\n//@ sourceURL=ember-data/system/debug/debug_adapter");